<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Some Perspective - India's Economic Reality 2014-2025</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Data-driven analysis of India's economic performance from 2014-2025, examining employment, inequality, and democratic institutions.">
    <meta name="keywords" content="India economy, GDP growth, unemployment, inequality, fiscal federalism, democracy">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Some Perspective - India's Economic Reality">
    <meta property="og:description" content="Where narratives meet numbers: A comprehensive assessment of India's political economy">
    <meta property="og:url" content="https://someperspective.info">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="India's Economic Reality 2014-2025">
    <meta name="twitter:description" content="Data-driven analysis beyond GDP headlines">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Leaflet.js for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- DataTables for tables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    
    <!-- Google Analytics - Add your tracking code here when ready -->
    
    <style>
        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }
        #indiaMap {
            height: 500px;
            width: 100%;
        }
        .gradient-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card {
            transition: transform 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body class="bg-gray-50">
    
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold text-gray-800">Some Perspective</h1>
                    <p class="text-sm text-gray-600">India's Economy Beyond the Narrative | 2014-2025</p>
                </div>
                <div class="hidden md:flex space-x-6">
                    <a href="#overview" class="text-gray-700 hover:text-blue-600">Overview</a>
                    <a href="#employment" class="text-gray-700 hover:text-blue-600">Employment</a>
                    <a href="#inequality" class="text-gray-700 hover:text-blue-600">Inequality</a>
                    <a href="#federalism" class="text-gray-700 hover:text-blue-600">Federalism</a>
                    <a href="#democracy" class="text-gray-700 hover:text-blue-600">Democracy</a>
                    <a href="#data" class="text-gray-700 hover:text-blue-600">Download Data</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="gradient-header text-white py-20">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl md:text-5xl font-bold mb-4">Narratives vs Numbers</h2>
            <p class="text-xl mb-8">A data-driven examination of India's political economy from 2014 to 2025</p>
            <div class="flex justify-center space-x-4">
                <button onclick="scrollToSection('overview')" class="bg-white text-purple-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100">
                    View Key Findings
                </button>
                <button onclick="scrollToSection('data')" class="border-2 border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-purple-700">
                    Download Data
                </button>
            </div>
            <p class="text-sm mt-4 opacity-80">Complete academic paper coming soon</p>
        </div>
    </section>

    <!-- Key Metrics Dashboard -->
    <section id="overview" class="container mx-auto px-4 py-12">
        <h3 class="text-3xl font-bold mb-8 text-center">Key Metrics at a Glance</h3>
        <div class="grid md:grid-cols-4 gap-6">
            <div class="card bg-white p-6 rounded-lg shadow">
                <h4 class="text-sm text-gray-600 mb-2">GDP Growth (Avg)</h4>
                <p class="text-3xl font-bold text-blue-600">6.8%</p>
                <p class="text-xs text-gray-500 mt-2">2014-2025</p>
            </div>
            <div class="card bg-white p-6 rounded-lg shadow">
                <h4 class="text-sm text-gray-600 mb-2">Top 1% Income Share</h4>
                <p class="text-3xl font-bold text-red-600">22.6%</p>
                <p class="text-xs text-gray-500 mt-2">Exceeds colonial peak</p>
            </div>
            <div class="card bg-white p-6 rounded-lg shadow">
                <h4 class="text-sm text-gray-600 mb-2">Press Freedom Rank</h4>
                <p class="text-3xl font-bold text-orange-600">159/180</p>
                <p class="text-xs text-gray-500 mt-2">From 136th in 2017</p>
            </div>
            <div class="card bg-white p-6 rounded-lg shadow">
                <h4 class="text-sm text-gray-600 mb-2">Employment Elasticity</h4>
                <p class="text-3xl font-bold text-green-600">1.11</p>
                <p class="text-xs text-gray-500 mt-2">From 0.01 in 2016</p>
            </div>
        </div>
    </section>

    <!-- Employment Section -->
    <section id="employment" class="bg-white py-12">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold mb-8">The Employment Paradox</h3>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h4 class="text-xl font-semibold mb-4">GDP Growth vs Unemployment Rate</h4>
                    <div class="chart-container">
                        <canvas id="gdpEmploymentChart"></canvas>
                    </div>
                </div>
                <div>
                    <h4 class="text-xl font-semibold mb-4">Employment Elasticity Transformation</h4>
                    <div class="chart-container">
                        <canvas id="elasticityChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="mt-8">
                <h4 class="text-xl font-semibold mb-4">Sectoral Employment Distribution</h4>
                <div class="chart-container" style="height: 300px;">
                    <canvas id="sectorChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- Inequality Section -->
    <section id="inequality" class="bg-gray-100 py-12">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold mb-8">Colonial-Era Inequality Returns</h3>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h4 class="text-xl font-semibold mb-4">Income Share by Percentile (1922-2023)</h4>
                    <div class="chart-container">
                        <canvas id="inequalityChart"></canvas>
                    </div>
                </div>
                <div>
                    <h4 class="text-xl font-semibold mb-4">Wealth Concentration</h4>
                    <div class="chart-container">
                        <canvas id="wealthChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- State-wise Map -->
    <section id="federalism" class="bg-white py-12">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold mb-8">Fiscal Federalism: State-wise Impact</h3>
            <div class="mb-4">
                <label class="font-semibold mr-4">Select Indicator:</label>
                <select id="mapIndicator" class="border rounded px-3 py-2" onchange="updateMap()">
                    <option value="fiscal">Fiscal Autonomy Index</option>
                    <option value="unemployment">Unemployment Rate</option>
                    <option value="percapita">Per Capita Income</option>
                    <option value="inequality">Inequality Index</option>
                </select>
            </div>
            <div id="indiaMap" class="rounded-lg shadow-lg"></div>
        </div>
    </section>

    <!-- Democratic Indicators -->
    <section id="democracy" class="bg-gray-100 py-12">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold mb-8">Democratic Decline Indicators</h3>
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <h4 class="text-xl font-semibold mb-4">Press Freedom Decline</h4>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="pressFreedomChart"></canvas>
                    </div>
                </div>
                <div>
                    <h4 class="text-xl font-semibold mb-4">Internet Shutdowns</h4>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="shutdownChart"></canvas>
                    </div>
                </div>
                <div>
                    <h4 class="text-xl font-semibold mb-4">Statistical Suppression</h4>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="suppressionChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Data Tables Section -->
    <section class="bg-white py-12">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold mb-8">Detailed Data Tables</h3>
            <div class="bg-white rounded-lg shadow p-6">
                <table id="dataTable" class="display" style="width:100%">
                    <thead>
                        <tr>
                            <th>Year</th>
                            <th>GDP Growth (%)</th>
                            <th>Unemployment (%)</th>
                            <th>Top 1% Income Share (%)</th>
                            <th>Press Freedom Rank</th>
                            <th>Fiscal Deficit (%)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>2014</td><td>7.4</td><td>4.9</td><td>15.0</td><td>140</td><td>4.1</td></tr>
                        <tr><td>2015</td><td>8.0</td><td>5.0</td><td>16.2</td><td>136</td><td>3.9</td></tr>
                        <tr><td>2016</td><td>8.2</td><td>5.0</td><td>17.5</td><td>133</td><td>3.5</td></tr>
                        <tr><td>2017</td><td>7.2</td><td>6.0</td><td>18.8</td><td>136</td><td>3.5</td></tr>
                        <tr><td>2018</td><td>6.1</td><td>6.1</td><td>19.7</td><td>138</td><td>3.4</td></tr>
                        <tr><td>2019</td><td>4.2</td><td>5.8</td><td>20.4</td><td>140</td><td>3.8</td></tr>
                        <tr><td>2020</td><td>-7.3</td><td>7.1</td><td>21.2</td><td>142</td><td>9.2</td></tr>
                        <tr><td>2021</td><td>8.7</td><td>4.2</td><td>21.7</td><td>142</td><td>6.7</td></tr>
                        <tr><td>2022</td><td>7.2</td><td>4.1</td><td>22.1</td><td>150</td><td>6.4</td></tr>
                        <tr><td>2023</td><td>7.6</td><td>3.2</td><td>22.6</td><td>161</td><td>5.9</td></tr>
                        <tr><td>2024</td><td>7.8</td><td>3.2</td><td>22.6</td><td>159</td><td>5.6</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Download Section -->
    <section id="data" class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-3xl font-bold mb-8">Download Complete Dataset</h3>
            <p class="mb-8">Access raw data, methodology notes, and source code</p>
            <div class="flex justify-center space-x-4 flex-wrap gap-4">
                <button onclick="downloadData()" class="bg-blue-600 px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors">
                    📊 Download Data (JSON)
                </button>
                <button class="bg-gray-600 px-6 py-3 rounded-lg cursor-not-allowed opacity-70" disabled>
                    📄 Full Report (Coming Soon)
                </button>
                <button onclick="window.open('https://github.com/yourusername/someperspective', '_blank')" class="bg-purple-600 px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors">
                    💻 View Source Code
                </button>
            </div>
            <p class="text-sm mt-6 opacity-70">
                Complete academic paper with 100+ citations coming soon
            </p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="mb-2">© 2025 Some Perspective</p>
            <p class="text-sm text-gray-400">Dr. Varna Sri Raman | Development Economics</p>
            <div class="mt-4 text-xs text-gray-500">
                Cite as: Raman, V.S. (2025). "Some Perspective: India's Economic Reality 2014-2025."
                <br>Available at: https://someperspective.info
            </div>
        </div>
    </footer>

    <!-- JavaScript for Charts and Functionality -->
    <script>
        // Load data from JSON file
        let chartData = null;
        
        // Function to download data
        function downloadData() {
            if (chartData) {
                const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(chartData, null, 2));
                const downloadAnchorNode = document.createElement('a');
                downloadAnchorNode.setAttribute("href", dataStr);
                downloadAnchorNode.setAttribute("download", "india-economy-data-2014-2025.json");
                document.body.appendChild(downloadAnchorNode);
                downloadAnchorNode.click();
                downloadAnchorNode.remove();
            } else {
                // Fallback - direct link to GitHub raw file
                window.open('https://raw.githubusercontent.com/yourusername/someperspective/main/data.json', '_blank');
            }
        }

        // GDP vs Employment Chart
        const gdpCtx = document.getElementById('gdpEmploymentChart').getContext('2d');
        new Chart(gdpCtx, {
            type: 'line',
            data: {
                labels: ['2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024'],
                datasets: [{
                    label: 'GDP Growth %',
                    data: [7.4, 8.0, 8.2, 7.2, 6.1, 4.2, -7.3, 8.7, 7.2, 7.6, 7.8],
                    borderColor: 'rgb(75, 192, 192)',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    tension: 0.1,
                    yAxisID: 'y'
                }, {
                    label: 'Unemployment Rate %',
                    data: [4.9, 5.0, 5.0, 6.0, 6.1, 5.8, 7.1, 4.2, 4.1, 3.2, 3.2],
                    borderColor: 'rgb(255, 99, 132)',
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    tension: 0.1,
                    yAxisID: 'y1'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'GDP Growth %'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Unemployment %'
                        },
                        grid: {
                            drawOnChartArea: false,
                        }
                    }
                }
            }
        });

        // Employment Elasticity Chart
        const elasticityCtx = document.getElementById('elasticityChart').getContext('2d');
        new Chart(elasticityCtx, {
            type: 'bar',
            data: {
                labels: ['2011-2016', '2017-2023'],
                datasets: [{
                    label: 'Employment Elasticity',
                    data: [0.01, 1.11],
                    backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(75, 192, 192, 0.5)'],
                    borderColor: ['rgb(255, 99, 132)', 'rgb(75, 192, 192)'],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Elasticity Coefficient'
                        }
                    }
                }
            }
        });

        // Sectoral Employment Chart
        const sectorCtx = document.getElementById('sectorChart').getContext('2d');
        new Chart(sectorCtx, {
            type: 'doughnut',
            data: {
                labels: ['Agriculture (45.8%)', 'Manufacturing (11.2%)', 'Services (28.5%)', 'Construction (14.5%)'],
                datasets: [{
                    data: [45.8, 11.2, 28.5, 14.5],
                    backgroundColor: [
                        'rgba(255, 206, 86, 0.8)',
                        'rgba(54, 162, 235, 0.8)',
                        'rgba(153, 102, 255, 0.8)',
                        'rgba(255, 159, 64, 0.8)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                    }
                }
            }
        });

        // Inequality Over Time Chart
        const inequalityCtx = document.getElementById('inequalityChart').getContext('2d');
        new Chart(inequalityCtx, {
            type: 'line',
            data: {
                labels: ['1922', '1939', '1950', '1970', '1982', '1990', '2000', '2010', '2014', '2023'],
                datasets: [{
                    label: 'Top 1% Income Share',
                    data: [13, 20.7, 12, 6.5, 6, 10, 15, 21, 15, 22.6],
                    borderColor: 'rgb(255, 99, 132)',
                    backgroundColor: 'rgba(255, 99, 132, 0.1)',
                    fill: true,
                    tension: 0.4
                }, {
                    label: 'Bottom 50% Income Share',
                    data: [20, 16, 21, 23, 23.6, 22, 20, 16, 15, 13.1],
                    borderColor: 'rgb(75, 192, 192)',
                    backgroundColor: 'rgba(75, 192, 192, 0.1)',
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Colonial Peak (1939): 20.7% → Current (2023): 22.6%'
                    }
                },
                scales: {
                    y: {
                        title: {
                            display: true,
                            text: 'Income Share (%)'
                        }
                    }
                }
            }
        });

        // Wealth Concentration Pie Chart
        const wealthCtx = document.getElementById('wealthChart').getContext('2d');
        new Chart(wealthCtx, {
            type: 'pie',
            data: {
                labels: ['Top 1% (40.1%)', 'Next 9% (32.4%)', 'Middle 40% (24.5%)', 'Bottom 50% (3%)'],
                datasets: [{
                    data: [40.1, 32.4, 24.5, 3],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.8)',
                        'rgba(255, 159, 64, 0.8)',
                        'rgba(75, 192, 192, 0.8)',
                        'rgba(153, 102, 255, 0.8)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: '166 Billionaires Control 25% of GDP'
                    }
                }
            }
        });

        // Press Freedom Chart
        const pressCtx = document.getElementById('pressFreedomChart').getContext('2d');
        new Chart(pressCtx, {
            type: 'line',
            data: {
                labels: ['2014', '2016', '2018', '2020', '2022', '2024'],
                datasets: [{
                    label: 'Global Rank (Lower is Better)',
                    data: [140, 133, 138, 142, 150, 159],
                    borderColor: 'rgb(255, 99, 132)',
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    fill: true,
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        reverse: true,
                        title: {
                            display: true,
                            text: 'Press Freedom Rank'
                        }
                    }
                }
            }
        });

        // Internet Shutdowns Chart
        const shutdownCtx = document.getElementById('shutdownChart').getContext('2d');
        new Chart(shutdownCtx, {
            type: 'bar',
            data: {
                labels: ['2018', '2019', '2020', '2021', '2022', '2023', '2024'],
                datasets: [{
                    label: 'Number of Shutdowns',
                    data: [134, 121, 129, 106, 84, 116, 84],
                    backgroundColor: 'rgba(255, 159, 64, 0.8)',
                    borderColor: 'rgb(255, 159, 64)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Number of Shutdowns'
                        }
                    }
                }
            }
        });

        // Statistical Suppression Index Chart
        const suppressionCtx = document.getElementById('suppressionChart').getContext('2d');
        new Chart(suppressionCtx, {
            type: 'line',
            data: {
                labels: ['2014', '2016', '2018', '2020', '2022', '2024'],
                datasets: [{
                    label: 'Statistical Suppression Index',
                    data: [2.3, 3.1, 5.2, 6.4, 7.2, 7.8],
                    borderColor: 'rgb(153, 102, 255)',
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    fill: true,
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 10,
                        title: {
                            display: true,
                            text: 'Suppression Index (0-10)'
                        }
                    }
                }
            }
        });

        // Initialize Leaflet Map
        var map = L.map('indiaMap').setView([23.0, 79.0], 5);
        
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Sample state data with coordinates
        var stateData = [
            {name: "Maharashtra", lat: 19.7515, lng: 75.7139, fiscal: 0.65, unemployment: 2.2, percapita: 250000, inequality: 0.42},
            {name: "Uttar Pradesh", lat: 26.8467, lng: 80.9462, fiscal: 0.45, unemployment: 4.2, percapita: 75000, inequality: 0.38},
            {name: "Tamil Nadu", lat: 11.1271, lng: 78.6569, fiscal: 0.72, unemployment: 2.8, percapita: 280000, inequality: 0.35},
            {name: "Bihar", lat: 25.0961, lng: 85.3131, fiscal: 0.38, unemployment: 6.1, percapita: 51000, inequality: 0.48},
            {name: "Karnataka", lat: 15.3173, lng: 75.7139, fiscal: 0.68, unemployment: 2.9, percapita: 320000, inequality: 0.41},
            {name: "Gujarat", lat: 22.2587, lng: 71.1924, fiscal: 0.71, unemployment: 2.1, percapita: 285000, inequality: 0.39},
            {name: "West Bengal", lat: 22.9868, lng: 87.8550, fiscal: 0.52, unemployment: 4.6, percapita: 125000, inequality: 0.37},
            {name: "Kerala", lat: 10.8505, lng: 76.2711, fiscal: 0.61, unemployment: 7.5, percapita: 210000, inequality: 0.32},
            {name: "Delhi", lat: 28.7041, lng: 77.1025, fiscal: 0.82, unemployment: 3.5, percapita: 450000, inequality: 0.45},
            {name: "Rajasthan", lat: 27.0238, lng: 74.2179, fiscal: 0.48, unemployment: 5.0, percapita: 140000, inequality: 0.40}
        ];

        // Add markers to map
        function updateMap() {
            // Clear existing markers
            map.eachLayer(function(layer) {
                if (layer instanceof L.CircleMarker) {
                    map.removeLayer(layer);
                }
            });

            var indicator = document.getElementById('mapIndicator').value;
            
            stateData.forEach(function(state) {
                var value = state[indicator];
                var color, radius, displayValue;
                
                switch(indicator) {
                    case 'fiscal':
                        color = value > 0.6 ? '#10b981' : value > 0.5 ? '#f59e0b' : '#ef4444';
                        radius = value * 30;
                        displayValue = (value * 100).toFixed(0) + '%';
                        break;
                    case 'unemployment':
                        color = value < 3 ? '#10b981' : value < 5 ? '#f59e0b' : '#ef4444';
                        radius = value * 5;
                        displayValue = value.toFixed(1) + '%';
                        break;
                    case 'percapita':
                        color = value > 200000 ? '#10b981' : value > 100000 ? '#f59e0b' : '#ef4444';
                        radius = Math.sqrt(value) / 15;
                        displayValue = '₹' + (value/1000).toFixed(0) + 'K';
                        break;
                    case 'inequality':
                        color = value < 0.35 ? '#10b981' : value < 0.42 ? '#f59e0b' : '#ef4444';
                        radius = value * 40;
                        displayValue = value.toFixed(2);
                        break;
                }
                
                L.circleMarker([state.lat, state.lng], {
                    radius: radius,
                    fillColor: color,
                    color: '#fff',
                    weight: 2,
                    opacity: 1,
                    fillOpacity: 0.7
                }).bindPopup(`<strong>${state.name}</strong><br>${indicator}: ${displayValue}`).addTo(map);
            });
        }

        // Initialize map with default indicator
        updateMap();

        // Initialize DataTable
        $(document).ready(function() {
            $('#dataTable').DataTable({
                "pageLength": 10,
                "responsive": true
            });
            
            // Try to load data.json if available
            fetch('./data.json')
                .then(response => response.json())
                .then(data => {
                    chartData = data;
                    console.log('Data loaded successfully');
                })
                .catch(error => {
                    console.log('Could not load data.json:', error);
                });
        });

        // Smooth scroll function
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
